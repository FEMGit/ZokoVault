<table id="documents-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Modified</th>
      <th>Tags</th>
      <th class="fixed-cell-small">Shared With</th>
      <th class="fixed-cell-small">Notes</th>
      <th class="nosort">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% if documents && documents.empty? %>
      <td style="display: none"></td>
      <td style="display: none"></td>
      <td style="display: none"></td>
      <td style="display: none"></td>
      <td style="display: none"></td>
      <td style="display: none"></td>
    <% end %>
    <% documents && documents.each do |document| %>
      <tr>
        <td>
          <% shareable ||= false %>
          <%= render :partial => "layouts/document_links", :locals => {:document => document, :shareable => shareable} %>
        </td>
        <td><%= date_format(document.updated_at) %></td>
        <td>
          <%= render :partial => "layouts/document_tags", :locals => {:document => document} %>
        </td>
        <td>
          <%= render :partial => "layouts/share_with_contacts", :locals => {:shares => document.shares} %>
        </td>
        <td>
          <%= render :partial => "layouts/document_notes", :locals => {:notes => document.description} %>
        </td>
        <td>
          <%= link_to 'Edit', edit_document_path(document), class: "outline-button small-button" %>
          <%= link_to 'Delete', document_path(document), method: :delete, data: {confirm: 'Are you sure?'}, class: "outline-button small-button" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<script>
  $(document).ready(function(){
      $('#documents-table').DataTable( {
        paging: false,
        searching: false,
        info: false,
        aaSorting: [[0, 'asc']],
        'aoColumnDefs': [{
          'bSortable': false,
          'aTargets': ['nosort']
        }]
      } );
  });
</script>

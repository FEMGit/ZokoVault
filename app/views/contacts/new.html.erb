<button class="primary-button big-button hidden" data-modal-id="wizard-modal">
  Wizard Modal
</button>
<div id="wizard-modal" class="modal wizard-modal modal-no-js">
  <div class="step-wizard">
    <div class="inner-step">
      <span class="inner-counter completed-step">
        <svg class="icon circle-icon">
          <use xlink:href="#icon-checkmark-1">1</use>
        </svg>
      </span>Step 1
    </div>
    <div class="inner-step">
      <span class="inner-counter current-step">2</span>Step 2
    </div>
    <div class="inner-step">
      <span class="inner-counter">3</span>Step 3
    </div>
  </div>
  <div class="modal-header">
    <h2>Add Contact</h2>
  </div>
  <div class="modal-content">
    <%= render 'form' %>
  </div>
  <footer class="modal-footer">
    <button class="js-modal-close secondary-button big-button" onclick="submitContact(event)">Save</a>
  </footer>
</div>


<%#= link_to 'Back', contacts_path #%>
<script>
submitContact = function(){
  console.log("made it");
  var contactForm = document.getElementById("contact-form");
  contactForm.submit();
}
$(function(){

  //SOMEONE PLEASE FIX THIS GARBAGE
  var appendthis =  ("<div class='modal-overlay js-modal-close'></div>");
  $(document).ready(function(){
    $('button[data-modal-id]').click();
  });
  $('button[data-modal-id]').click(function(e) {
    e.preventDefault();
    $("body").append(appendthis);
    $(".modal-overlay").fadeTo(500, 0.8);
    $(".js-modalbox").fadeIn(500);
    var modalBox = $(this).attr('data-modal-id');
    $('#'+modalBox).fadeIn($(this).data());
  });


  $(".js-modal-close, .modal-overlay").click(function() {
    $(".modal, .modal-overlay").fadeOut(500, function() {
      $(".modal-overlay").remove();
    });
  });

  //ESPECIALLY THIS GARBAGE
  $(window).resize(function() {
    $(".large-modal").css({
      top: ($(window).height() - $(".modal").outerHeight()) / 2,
      left: ($(window).width() - $(".large-modal").outerWidth()) / 2,
    });
  });
  $(window).resize(function() {
    $(".medium-modal").css({
      top: ($(window).height() - $(".modal").outerHeight()) / 2,
      left: ($(window).width() - $(".medium-modal").outerWidth()) / 2,
    });
  });
  $(window).resize(function() {
    $(".small-modal").css({
      top: ($(window).height() - $(".modal").outerHeight()) / 2,
      left: ($(window).width() - $(".small-modal").outerWidth()) / 2,
    });
  });
  $(window).resize();

});
</script>

<% current_user = User.last %>

<section class="card signup-card">

  <p class="fr">Already a member? <%= link_to 'Login', new_session_path(resource_name), class: 'no-underline-link'%></p>

  <h3 class="confirmation-title">Sign Up</h3>

  <p>Please tell us a little about yourself to create an account. We'll never share your personal information wtih anyone.</p>

  <% resource.build_user_profile rescue nil %>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= devise_error_messages! %>

    <%= f.fields_for :user_profile do |user_profile_form| %>
      <div class="field">
        <%= user_profile_form.label :first_name, 'First Name', autofocus: true %>
        <%= user_profile_form.text_field :first_name %>
      </div>

      <div class="field">
        <%= user_profile_form.label :middle_name, 'Middle Name' %><span class="optional-field"> optional</span>
        <%= user_profile_form.text_field :middle_name %>
      </div>

      <div class="field">
        <%= user_profile_form.label :last_name, 'Last Name' %>
        <%= user_profile_form.text_field :last_name %>
      </div>

      <div class="field">
        <%= f.label :email %>
        <%= f.email_field :email %>
      </div>

      <div class="field">
        <%= user_profile_form.label :date_of_birth, 'Date of Birth'%>
        <%= user_profile_form.date_field :date_of_birth %>
      </div>

      <div class="field">
        <%= f.label :password %>
        <%= f.password_field :password, autocomplete: "off" %>
      </div>

      <div class="field">
        <%= f.label :password_confirmation, 'Confirm Password' %>
        <%= f.password_field :password_confirmation, autocomplete: "off" %>
      </div>

    <% end %>


      <%= f.button "Sign Up", class: 'js-modal-close button primary-button big-button' %>
      <%= link_to 'Cancel', '/', class: "js-modal-close button secondary-button big-button", method: :get %>

    <p class="mt-20 small-text">By submitting this information I agree to the ZokuVault
      <a herf="/terms-of-use">Terms of Use</a> and
      <a herf="/privacy-policy">Privacy Policy</a>.
    </p>
  <% end %>
</section>

<%= form_for(@user_profile, url: user_profile_path) do |f| %>

  <% if @user_profile.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user_profile.errors.count, "error") %> prohibited this from being saved:</h2>

      <ul>
        <% @user_profile.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="card mb-30">
    <h3 class="card-label">Personal Information</h2>

    <%= f.label :first_name, 'First Name' %>
    <p><%= f.text_field :first_name %></p>

    <%= f.label :middle_name, 'Middle Name (optional)' %>
    <p><%= f.text_field :middle_name %></p>

    <%= f.label :last_name, 'Last Name' %>
    <p><%= f.text_field :last_name %></p>

    <%= f.label :email, 'Email Address' %>
    <p><%= f.email_field :email %></p>

    <%= f.label :phone_number_mobile, 'Cell Phone Number' %>
    <p><%= f.text_field :phone_number_mobile, class: "form-control phone-number", :data => {:mask => '999-999-9999'} %></p>

    <%= f.label :phone_number, 'Home Phone Number' %>
    <p><%= f.text_field :phone_number, class: "form-control phone-number", :data => {:mask => '999-999-9999'} %></p>

    <%= f.label :date_of_birth, 'Birthdate (mm/dd/yyyy)' %>
    <p><%= f.date_field :date_of_birth %></p>

    <%= f.label :street_address_1, 'Street Address' %>
    <p><%= f.text_field :street_address_1 %></p>

    <%= f.label :city %>
    <p><%= f.text_field :city %></p>

    <span class="state-input">
      <%= f.label :state %>
      <div class="styled-select">
        <%= f.select :state, options_for_select(us_states, f.object.state), :include_blank => "Select..." %>
      </div>
    </span>
    <span class="zip-input">
      <%= f.label :zip, 'Zip Code' %>
      <%= f.text_field :zip %>
    </span>

    <%= f.label :notes %>
    <p><%= f.text_area :notes  %></p>
  </div>

<!--
<div class="card mb-30 shared-card">
  <h3 class="card-label">
    <svg class="icon" viewBox="0 0 20 20">
      <use xlink:href="#icon-Safe"></use>
    </svg>
    Primary Shared With
  </h3>
  <p class="shared-description">The contact(s) selected for â€˜Primary Shared With has full read and write access to this ZokuVault account and all of its details.    </p>
    <label>Primary Shared With</label>
    <div class="chosen-styled-select">
      <%= f.collection_select :share_ids, 
        @contacts_shareable, :id, :name, {}, 
        { 'data-placeholder' => 'Choose Contacts...', class: "chosen-select", multiple: true }
      %>
  </div>
</div>
-->

  <%= f.fields_for :employers do |ff| %>
    <div class="card mb-30">
      <h3 class="card-title">Employer Information</h2>

      <%= ff.label :name, 'Business Name' %>
      <p><%= ff.text_field :name %></p>

      <%= ff.label :web_address, 'Business Web Address' %>
      <p><%= ff.text_field :web_address, type: "url", onblur: "checkURL(this)", onsubmit: "checkURL(this)" %></p>

      <%= ff.label :street_address_1, 'Street Address' %>
      <p><%= ff.text_field :street_address_1 %></p>

      <%= ff.label :city %>
      <p><%= ff.text_field :city %></p>

      <span class="state-input">
        <%= ff.label :state %>
        <div class="styled-select">
          <%= ff.select :state, options_for_select(us_states, ff.object.state), :include_blank => "Select..." %>
        </div>
      </span>
      <span class="zip-input">
        <%= ff.label :zip, 'Zip Code' %>
        <%= ff.text_field :zip %>
      </span>

      <%= ff.label :phone_number_office, 'Business Phone Number' %>
      <p><%= ff.text_field :phone_number_office, class: "form-control", :data => {:mask => '999-999-9999'} %></p>

      <%= ff.label :phone_number_fax, 'Business Fax Number' %>
      <p><%= ff.text_field :phone_number_fax, class: "form-control", :data => {:mask => '999-999-9999'} %></p>

    </div>
  <% end %>

  <%= f.submit "Save", class: "button primary-button big-button" %>
  <%= link_to 'Cancel', user_profile_path, {class: "button secondary-button big-button"}%>
<% end %>
<script>$('.chosen-select').chosen();</script>
